
.TH bfload 1 "2008 April 9" "EMC Documentation" "The Enhanced Machine Controller"

.SH NAME
bfload \- A program for loading a Xilinx Bitfile program into the FPGA
of an Anything I/O board from Mesa Electronics.

.SH SYNOPSIS
.B bfload
help
.P
.B bfload
list
.P
.B bfload
BoardType[:BoardIdentifier]=BitFile
.P
.B bfload
<filename> [<cardnum>]

.SH DESCRIPTION
This program loads a Xilinx bitfile-format FPGA program into the FPGA of an Anything I/O board from Mesa Electronics.
Currently supported boards:
.IP
5i20
.IP
7i43 (both the 200K and 400K FPGA models)

.SH OPTIONS
The first two command-line forms do not program an FPGA.
.IP
.B help
Prints terse usage info.
.IP
.B list
Lists all the supported PCI Anything I/O boards in the system.
.P
The last two command-line forms try to program the FPGA of an Anything I/O board.
.P
The new, prefered command-line syntax is: BoardType[:BoardIdentifier]=BitFile
.IP
.B BoardType
specifies the model name of a supported Anything I/O board (see the
DESCRIPTION section above).
.IP
.B BoardIdentifier
is optional.  Its format depends on the board type.  For PCI boards,
BoardIdentifier is an integer specifying the n'th discovered PCI board
of that type.  For EPP boards, BoardIdentifier is the I/O address of the
parallel port to use, in the format "IOAddr[,IOAddrHigh]".  If IOAddrHigh
is omitted, it defaults to IOAddr + 0x400.  If BoardIdentifier is omitted,
it defaults to "0" for PCI boards and "0x378" for EPP boards.
.IP
.B BitFile
is the name of the FPGA program file to send.
.P
The old, deprecated command-line syntax is: <filename> [<cardnum>]
.P
Only the 5i20 board is supported with this syntax.  Support for this
syntax will be removed in a future version of EMC.
.IP
.B <filename>
is the name of the FPGA program file to send.
.IP
.B <cardnum>
(optional, defaults to 0) is the index of the board to send it to.

.SH EXAMPLE
# send the file SV12.BIT to the first 5i20 board in the system
.br
bfload 5i20=SV12.BIT
.PP
# send the file SV8B.BIT to the 7i43 at the specified address
.br
bfload 7i43:0xdc48,0xdc50=SV8B.BIT
.PP
# send the file SVST8_4.BIT to the first 5i20 (old deprecated syntax)
.br
bfload SVST8_4.BIT
.PP
# send the file SVST8_4.BIT to the second 5i20 (old deprecated syntax)
.br
bfload SVST8_4.BIT 1
