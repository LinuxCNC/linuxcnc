#LyX 1.3 created this file. For more info see http://www.lyx.org/
\lyxformat 221
\textclass book
\begin_preamble

\end_preamble
\language french
\inputencoding default
\fontscheme bookman
\graphics default
\float_placement !h
\paperfontsize 10
\spacing single 
\papersize letterpaper
\paperpackage a4
\use_geometry 0
\use_amsmath 0
\use_natbib 0
\use_numerical_citations 0
\paperorientation portrait
\secnumdepth 5
\tocdepth 3
\paragraph_separation skip
\defskip smallskip
\quotes_language french
\quotes_times 2
\papercolumns 1
\papersides 2
\paperpagestyle headings

\layout Chapter

Compiler EMC2 depuis les sources
\layout Section

Introduction
\layout Standard

Quelques difficultés sont à surmonter quand vous commencez à installer EMC2,
 son téléchargement et l'installation du software proprement dit.
 L'ensemble des fichiers d'EMC2 sont placés dans le dépôt cvs.linuxcnc.org,
 c'est un dépôt avec gestion des versions (CVS).
 EMC2 est également disponible en paquets pré-compilés (pour différentes
 plateformes) pour téléchargement depuis ce site.
 
\layout Standard

L'installation peut être une tâche compliquée pour quelqu'un de nouveau
 sous Linux.
 La partie la plus dure étant d'appliquer le patch temps réel (Real Time
 Linux) au noyau.
 Après ça, installer EMC2 est assez facile.
 Celà dit, il est dorénavant possible aux utilisateurs de profiter d'une
 possibilité totalement nouvelle, il leur suffit d'installer Ubuntu (une
 distribution Linux vraiment conviviale), puis d'exécuter un simple script
 d'installation, et ils auront alors un EMC2 directement en état de marche
 sur un noyau temps réel.
 Les informations pour accéder à cette solution sont diponibles sur www.linuxcnc.o
rg à la page Download.
\layout Section

Page de téléchargement EMC
\layout Standard

Vous pouvez trouver l'annonce des versions les plus récentes d'EMC2 sur
 www.linuxcnc.org.
 Les versions d'EMC2 sont fournies de deux manières, sources et paquets
 binaires.
 Les sources (described furtheron) sont sous forme de fichiers tarball (emc2-ver
sion.tar.gz), que vous devez télécharger et décompacter dans votre répertoire
 home.
\layout Section

Gestion des versions d'EMC2
\layout Standard

EMC2 utilise un modèle de versions similaire (bien que simplifié) à celui
 utilisé par Debian.
 Il y a tout le temps trois versions d'EMC2.
 Debian utilise "stable", "testing" et "unstable".
 Nous utilisons "Released", "Testing" et "Head".
 Pour les dernières informations, cliquez sur la version qui vous intéresse.
\layout Standard


\series bold 
Released
\series default 
 est exactement ça, une version publiée d'EMC2 avec un numéro de version.
 Elle a été testée par beaucoup de développeurs et de béta testeurs avant
 d'être publiée, elle est utilisable par la moyenne des utilisateurs.
 Les développeurs et réguliers des IRC/mailing list sont prêts à aider ceux
 qui démarrent avec une version 
\begin_inset Quotes eld
\end_inset 

released
\begin_inset Quotes erd
\end_inset 

.
 
\series bold 
"Released"
\series default 
 est disponible sous plusieurs formes, incluant .debs pour Ubuntu et tarballs
 de sources pour une compilation locale.
 Il y a un dépôt Debian qui a toujours la dernière version 
\begin_inset Quotes eld
\end_inset 

released
\begin_inset Quotes erd
\end_inset 

 (elle permet donc de faciliter les mises à jour d'une version stable).
 
\layout Standard


\series bold 
Testing
\series default 
 est une version d'EMC2 qui est prête pour le "beta testing" mais pas pour
 une publication générale.
 Avant qu'une version soit labellisée 
\series bold 
testing
\series default 
 elle doit d'abord être compilée et doit démarrer sur différentes plateformes,
 mais il y aura probablement des limitations et divers problèmes.
 La page 
\series bold 
Testing
\series default 
 du wiki est prévue pour lister les problèmes connus et leurs solutions,
 mais il reste probablement aussi des bugs non découverts.
 Puisque la version 
\series bold 
Testing
\series default 
 est un software "beta", il ne doit pas être utilisé pour tout ce qui est
 critique.
 Les utilisateurs de la version 
\series bold 
Testing
\series default 
 doivent comprendre qu'il s'agit d'un software en beta et qu'ils doivent
 être disposés à donner des rapports de bugs détaillés si quelque chose
 ne va pas.
 
\series bold 
Testing
\series default 
 est disponible principalement comme une balise en CVS, toutefois pour la
 commodité des testeurs, un dépôt "testing" debian et/ou des tarballs peuvent
 aussi être disponibles.
 C'est le conseil d'administration d'EMC qui décide quand une version "Testing"
 est digne de devenir "Released".
 C'est une décision formelle, présentée par voix de motion aux votes du
 conseil d'administration ou votes par la mailing liste de l'IRC.
 
\layout Standard


\series bold 
TRUNK
\series default 
 est un terme CVS pour indiquer l'emplacement des versions en début de développe
ment.
 Une version 
\series bold 
TRUNK
\series default 
 peut souvent être non fonctionnelle.
 Lorsque la version 
\series bold 
TRUNK
\series default 
 sera réputée digne par de nombreux testeurs soit un grand nombre de personnes,
 la balise 
\series bold 
"Testing"
\series default 
 lui sera appliquée.
 C'est une décision informelle, prise par consensus à la tête des développeurs,
 habituellement sur l'IRC.
 Le développement continue immédiatement et un autre 
\series bold 
TRUNK
\series default 
 diverge de cette nouvelle version 
\series bold 
Testing
\series default 
.
 
\series bold 
TRUNK
\series default 
 n'a pas de numéro de version, au cours d'un veek-end chargé il peut changer
 littéralement toutes les 10 minutes.
 
\layout Section

Téléchargement et compilation des sources.
\layout Standard

Les quelques sections suivantes décriront comment se procurer les sources
 d'EMC2 et les compiler.
\layout Standard

Pour les télécharger, allez simplement sur www.linuxcnc.org à la page 
\begin_inset Quotes eld
\end_inset 

Download
\begin_inset Quotes erd
\end_inset 

 et prenez les tarballs de la dernière version 
\begin_inset Quotes eld
\end_inset 

release
\begin_inset Quotes erd
\end_inset 

 ou 
\begin_inset Quotes eld
\end_inset 

testing
\begin_inset Quotes erd
\end_inset 

.
\layout Standard

Quand vous les avez dans votre répertoire home, il faut les extraire, ouvrez
 une console et faites:
\layout LyX-Code

$ cd ~/
\newline 
$ tar xzvf emc2-version.tar.gz
\layout Standard

Puis vous devez décider quel type d'installation vous voulez.
 Il y a deux possibilités pour essayer EMC2:
\layout Description

Installed Comme la plupart des autres logiciels sous Linux, les fichiers
 sont placés dans des répertoires système, ils sont automatiquement disponibles
 à tous les utilisateurs de l'ordinateur.
\begin_inset Foot
collapsed false

\layout Standard

Le paquet pré-installé pour Ubuntu Linux utilise la méthode 
\begin_inset Quotes eld
\end_inset 

installé
\begin_inset Quotes erd
\end_inset 


\end_inset 


\layout Description

Run-in-place Tous les dossiers sont conservés à l'intérieur du répertoire
 EMC2.
 Cette option est utile pour essayer EMC2, surtout quand il existe déjà
 une autre version d'EMC2 installée sur le système..
\layout Subsection

Télécharger une version CVS
\layout Standard

Si vous souhaitez utiliser la version TRUNK d'EMC2, veuillez suivre les
 instructions de notre wiki pour obtenir le code source:: 
\begin_inset LatexCommand \url{http://wiki.linuxcnc.org/cgi-bin/emcinfo.pl?CVS}

\end_inset 


\layout Section

Installed
\layout Standard

EMC2 suit la manière standard de la compilation de logiciel sous linux.
 Pour compiler il suffit de se rendre dans le répertoire des sources:
\layout LyX-Code

$ cd ~/emc2/src
\layout Standard

et d'y lancer ces commandes:
\layout LyX-Code

$ ./configure
\newline 
$ make && sudo make install
\layout Standard

Pour le lancer, tapez 'emc'.
\layout Section

Run-in-place
\layout Standard

Si vous voulez seulement tester le logiciel avant de l'installer, ou si
 vous avez peur d'écraser une version déjà existante, vous pouvez essayer
 le mode Run-In-Place (RIP).
 Dans ce mode, il n'y a aucune installation et aucun fichier ne sera placé
 en dehors du répertoire 
\family typewriter 
~/emc2
\family default 
.
 
\layout Standard

Faites juste:
\layout LyX-Code

$ cd ~/emc2/src
\layout Standard

puis tapez ces commandes:
\layout LyX-Code

$ ./configure --enable-run-in-place
\newline 
$ make && sudo make setuid
\layout Standard

Dans une console, où vous voulez utiliser EMC2, tapez:
\begin_inset Foot
collapsed false

\layout Standard

En tapant cette commande dans dans le script de démarrage de la console,
 comme 
\family typewriter 
~/.bash_profile
\family default 
, vous n'aurez plus à la taper manuellement dans la fenêtre de chaque console.
\end_inset 


\layout LyX-Code

$ .
 ~/emc2/scripts/emc-environment
\layout Standard

Jusqu'à ce que vous fermiez la console, il sera mis en place afin que les
 programmes et les pages de manuel soient disponibles sans avoir à se référer
 au chemin à chaque fois.
 Ensuite vous pouvez lancer EMC2 en faisant:
\layout LyX-Code

$ emc
\layout Section

Simulateur
\layout Standard

Pour installer EMC2 sur un système sans noyau temps réel, ajoutez 
\family typewriter 
--enable-simulator
\family default 
 à la ligne de commande 
\family typewriter 
configure
\family default 
.
 Dans ce mode, seule la partie purement programme d'EMC2 démarrera.
 Aucun matériel n'aura à être contrôlé, les timmings ne sont pas garantis,
 mais les autres fonctionnalités de HAL, EMC2 et ses diverses interfaces
 sont disponibles.
 Pour utiliser ce mode ajoutez 
\family typewriter 
--enable-run-in-place
\family default 
 à la commande configure, l'étape du 
\family typewriter 
sudo make setuid
\family default 
 n'est pas nécessaire.
\layout Section

Editer et recompiler
\layout Standard

Vous pouvez avoir besoin de recompiler le code d'EMC2 pour diverses raisons.
 Vous pouvez avoir à modifier le code source, ou vous pouvez avoir seulement
 téléchargé quelques nouveaux fichiers.
 Pour recompiler, tapez les commandes suivantes:
\layout LyX-Code

$ cd ~/emc2/src
\newline 
$ make && sudo make install # pour le run-installed
\newline 
$ make && sudo make setuid  # pour le run-in-place
\newline 
$ make                      # pour le run-in-place en simulateur
\layout Standard

Le processus de compilation est suffisamment performant pour ne recompiler
 que ce qui est affecté par vos changements.
\the_end
